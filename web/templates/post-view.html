{{ define "main" }}

<div class="panel panel-primary">
    <div class="panel-heading">
        {{ $Post := .Post }}
        <span class="lead">
            <i class="fa fa-comment-o"></i> {{ $Post.Title }}
        </span>
        {{ if .User }}
        {{ if eq .User.Id $Post.UserId }}
        <a class="btn label label-default" href="/post/edit?id={{ $Post.Id }}">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
        </a>
        {{ end }}
        {{ end }}
    </div>

    <div class="panel-body">
        <pre>{{ $Post.Content }}</pre>
        <div class="btn-group">
            {{ range $category := $Post.WCategories }}
            <a class="btn btn-tag label label-primary" href="/category/post/get/{{ $category.Id }}">{{ $category.Name
                }}</a>
            {{ end }}
        </div>
    </div>
    <div class="panel-footer">
        <div class="btn-group">
            <!-- TODO: Закончить это -->
            {{ if eq $Post.WUserVote 1 }}
            <a type="button" class="btn btn-primary btn-sm" href="/post/vote?post_id={{ $Post.Id }}&vote=0">
                <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span> {{ $Post.WVoteUp }}
            </a>
            {{ else }}
            <a type="button" class="btn btn-default btn-sm" href="/post/vote?post_id={{ $Post.Id }}&vote=1">
                <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span> {{ $Post.WVoteUp }}
            </a>
            {{ end }}
            {{ if eq $Post.WUserVote -1 }}
            <a type="button" class="btn btn-primary btn-sm" href="/post/vote?post_id={{ $Post.Id }}&vote=0">
                <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span> {{ $Post.WVoteDown }}
            </a>
            {{ else }}
            <a type="button" class="btn btn-default btn-sm" href="/post/vote?post_id={{ $Post.Id }}&vote=-1">
                <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span> {{ $Post.WVoteDown }}
            </a>
            {{ end }}
        </div>
    </div>
</div>

{{ end }}